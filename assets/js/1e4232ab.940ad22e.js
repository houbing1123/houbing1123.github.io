"use strict";(self.webpackChunkjianshan=self.webpackChunkjianshan||[]).push([[8818],{3905:(t,e,p)=>{p.d(e,{Zo:()=>m,kt:()=>b});var n=p(7294);function a(t,e,p){return e in t?Object.defineProperty(t,e,{value:p,enumerable:!0,configurable:!0,writable:!0}):t[e]=p,t}function r(t,e){var p=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),p.push.apply(p,n)}return p}function c(t){for(var e=1;e<arguments.length;e++){var p=null!=arguments[e]?arguments[e]:{};e%2?r(Object(p),!0).forEach((function(e){a(t,e,p[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(p)):r(Object(p)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(p,e))}))}return t}function o(t,e){if(null==t)return{};var p,n,a=function(t,e){if(null==t)return{};var p,n,a={},r=Object.keys(t);for(n=0;n<r.length;n++)p=r[n],e.indexOf(p)>=0||(a[p]=t[p]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)p=r[n],e.indexOf(p)>=0||Object.prototype.propertyIsEnumerable.call(t,p)&&(a[p]=t[p])}return a}var l=n.createContext({}),i=function(t){var e=n.useContext(l),p=e;return t&&(p="function"==typeof t?t(e):c(c({},e),t)),p},m=function(t){var e=i(t.components);return n.createElement(l.Provider,{value:e},t.children)},s="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},k=n.forwardRef((function(t,e){var p=t.components,a=t.mdxType,r=t.originalType,l=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),s=i(p),k=a,b=s["".concat(l,".").concat(k)]||s[k]||u[k]||r;return p?n.createElement(b,c(c({ref:e},m),{},{components:p})):n.createElement(b,c({ref:e},m))}));function b(t,e){var p=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var r=p.length,c=new Array(r);c[0]=k;var o={};for(var l in e)hasOwnProperty.call(e,l)&&(o[l]=e[l]);o.originalType=t,o[s]="string"==typeof t?t:a,c[1]=o;for(var i=2;i<r;i++)c[i]=p[i];return n.createElement.apply(null,c)}return n.createElement.apply(null,p)}k.displayName="MDXCreateElement"},6193:(t,e,p)=>{p.r(e),p.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>i});var n=p(7462),a=(p(7294),p(3905));const r={sidebar_position:2},c="React\u6e90\u7801\u5206\u6790\uff082\uff09",o={unversionedId:"tutorial-basics/create-a-document",id:"tutorial-basics/create-a-document",title:"React\u6e90\u7801\u5206\u6790\uff082\uff09",description:"fiber\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u521b\u5efa\u7684\uff1f",source:"@site/docs/tutorial-basics/create-a-document.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/create-a-document",permalink:"/docs/tutorial-basics/create-a-document",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-basics/create-a-document.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"React\u6e90\u7801\u5206\u6790\uff081\uff09",permalink:"/docs/tutorial-basics/create-a-page"},next:{title:"React\u6e90\u7801\u5206\u6790\uff083\uff09",permalink:"/docs/tutorial-basics/create-a-blog-post"}},l={},i=[{value:"fiber\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u521b\u5efa\u7684\uff1f",id:"fiber\u662f\u4ec0\u4e48\u5982\u4f55\u521b\u5efa\u7684",level:2}],m={toc:i},s="wrapper";function u(t){let{components:e,...p}=t;return(0,a.kt)(s,(0,n.Z)({},m,p,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"react\u6e90\u7801\u5206\u67902"},"React\u6e90\u7801\u5206\u6790\uff082\uff09"),(0,a.kt)("h2",{id:"fiber\u662f\u4ec0\u4e48\u5982\u4f55\u521b\u5efa\u7684"},"fiber\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u521b\u5efa\u7684\uff1f"),(0,a.kt)("p",null,"OK\uff0c\u8bdd\u63a5\u4e0a\u6587\uff0c\u6211\u4eec\u5b66\u4e60\u4e86",(0,a.kt)("strong",{parentName:"p"},"creatRoot"),"\u7684",(0,a.kt)("strong",{parentName:"p"},"workStream"),"\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u804a\u804a\uff0c\u521b\u5efa\u4e86\u8282\u70b9\u4e4b\u540e\uff0c\u6211\u4eec\u662f\u5982\u4f55\u5c06\u8fd9\u4e2a\u8282\u70b9\u53d8\u6210",(0,a.kt)("strong",{parentName:"p"},"fiber"),"\u7684\uff1f"),(0,a.kt)("p",null,"\u9996\u5148\u518d\u6765\u8bb2fiber\u7684\u521b\u5efa\u4e4b\u524d\u6211\u4eec\u5e94\u8be5\u804a\u4e00\u804a\u4ec0\u4e48\u662f",(0,a.kt)("strong",{parentName:"p"},"fiber")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44a0e8cbe6d94a8c883b06b5c089c6b8~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u4e0a\u6587\u662fReact\u5173\u4e8efiber\u7684\u90e8\u5206\u5b98\u65b9\u89e3\u91ca\uff0c\u8fd9\u91cc\u7b80\u5355\u8d34\u51fa\u90e8\u5206\u8be6\u89e3\u6709\u9700\u6c42\u89c2\u770b\u7684\u53ef\u4ee5\u770b\u4e0b\u65b9\u94fe\u63a5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"https://github.com/acdlite/react-fiber-architecture#what-is-reconciliation\n")),(0,a.kt)("p",null,"\u7b80\u5355\u6765\u8bf4fiber\u4e5f\u662f\xa0Virtual DOM\xa0\u7684\u4e00\u79cd\uff0c"),(0,a.kt)("p",null,"PS\uff1a\u5982\u679c\u6709\u540c\u5b66\u60f3\u8981\u6df1\u5165\u7684\u5148\u4e86\u89e3\u4ec0\u4e48\u662f\xa0",(0,a.kt)("strong",{parentName:"p"},"Virtual Dom")," \u7684\u8bdd\uff0c\u8fd9\u91cc\u4f5c\u8005\u63a8\u8350\u53ef\u4ee5\u5148\u53bb\u770b\u4e00\u770b\xa0",(0,a.kt)("strong",{parentName:"p"},"Snabbdom")," \u8fd9\u4e2a\u5e93\uff0c",(0,a.kt)("strong",{parentName:"p"},"Vue"),"\u548c",(0,a.kt)("strong",{parentName:"p"},"React"),"\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\u6765\u8bf4\u90fd\u662f\u501f\u9274\u4e86\u8fd9\u4e2a\u5e93\u7684\u4e00\u90e8\u5206\u601d\u60f3"),(0,a.kt)("p",null,"\u4e0b\u65b9\u662f\u94fe\u63a5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"https://github.com/snabbdom/snabbdom\xa0\xa0//\u5f88\u503c\u5f97\u7684\u4e00\u4e2a\u5b66\u4e60\u865a\u62dfdom\u7684\u5e93\uff0c\u540e\u671f\u4f5c\u8005\u4f1a\u51fa\u4e00\u671f\u4e13\u95e8\u7684\u6587\u7ae0\n")),(0,a.kt)("p",null,"OK\uff01\u90a3\u4e48\uff0creact\u662f\u4ec0\u4e48\u65f6\u671f\u5f15\u5165\u7684fiber\uff0c\u53c8\u4e3a\u4ec0\u4e48\u5f15\u5165\uff1f"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"React"),"\u572816\u4e4b\u524d\u7684\u7248\u672c\u5e76\u672a\u4f7f\u7528fiber\u67b6\u6784\uff0c\u5728",(0,a.kt)("strong",{parentName:"p"},"React"),"16\u7684\u7248\u672c\u4e2d\u91cd\u6784\u4e86",(0,a.kt)("strong",{parentName:"p"},"Diff"),"\u7b97\u6cd5\u540c\u65f6\u5b8c\u6210\u57fa\u4e8e",(0,a.kt)("strong",{parentName:"p"},"fiber"),"\u5b9e\u73b0\u7684",(0,a.kt)("strong",{parentName:"p"},"hooks"),"\u65b9\u6cd5"),(0,a.kt)("p",null,"\u90a3\u4e48\u53c8\u662f\u4e3a\u4ec0\u4e48\u5f15\u5165\u5462\uff1f"),(0,a.kt)("p",null,"\u4ece\xa0React\u8bbe\u8ba1\u7406\u5ff5\xa0\u548c\xa0React\u67b6\u6784\xa0\u4e2d\u6211\u4eec\u77e5\u9053\uff0c\u5728\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"v15"),"\xa0\u7248\u672c\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"Reconciler"),"\xa0\u91c7\u7528\u9012\u5f52\u7684\u65b9\u5f0f\u66f4\u65b0\u865a\u62df DOM\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u4ec0\u4e48\u95ee\u9898\u5462\uff1f"),(0,a.kt)("p",null,"\u7531\u4e8e\u9012\u5f52\u8fc7\u7a0b\u662f\u4e0d\u80fd\u4e2d\u65ad\u7684\uff0c\u5982\u679c\u7ec4\u4ef6\u6811\u7684\u5c42\u7ea7\u5f88\u6df1\uff0c\u9012\u5f52\u66f4\u65b0\u65f6\u95f4\u8d85\u8fc7\u4e86\u4e00\u5e27\uff0c\u7528\u6237\u4ea4\u4e92\u5c31\u4f1a\u5361\u987f\uff0c\u6240\u4ee5\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},"v16"),"\xa0\u5c06\u9012\u5f52\u7684\u65e0\u6cd5\u4e2d\u65ad\u7684\u66f4\u65b0\u91cd\u6784\u4e3a\u5f02\u6b65\u7684\u53ef\u4e2d\u65ad\u66f4\u65b0\u3002"),(0,a.kt)("p",null,"\u901a\u8fc7\u4e0a\u4e00\u671f\u6211\u4eec\u521b\u5efa\u7684\u9879\u76ee\u7136\u540edebugger\u6211\u4eec\u770b\u5230\u4e86",(0,a.kt)("strong",{parentName:"p"},"fiber"),"\u5728\u771f\u6b63\u8fd0\u884c\u65f6\u957f\u5f97\u5230\u5e95\u4ec0\u4e48\u6837\u5b50\uff0cOK\uff0c\u8fd9\u91cc\u5927\u5bb6\u5e94\u8be5\u5e94\u8be5\u80fd\u770b\u660e\u767d\u4e86\u3002\u7531\u4e8e\u6d4f\u89c8\u5668\u539f\u56e0\u6ca1\u6709\u80fd\u591f\u622a\u6210\u957f\u56fe\uff0c\u53ef\u4ee5\u5bf9\u4ed8\u770b\u4e00\u4e0b\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1320866b4303421b9cf194e8fdc07c44~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a3f4f0a5e887423d82f6d17cf6c675d1~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ed59cb1464f442d88a92d14df7a0d1f~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b286fcccbe343d882bbdb7e8a44177b~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u5728\u8fd9\u4e2a\u5730\u65b9\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u4e5f\u5c31\u662f",(0,a.kt)("a",{parentName:"p",href:"http://mp.weixin.qq.com/s?__biz=Mzg3Nzc0MzUwNw==&mid=2247484038&idx=1&sn=6c967b4396399fc8cb99d9cc91cbe82f&chksm=cf1f1e7af868976c2ea2c86b555a0b17a2b0210c10c956afb27da29551ceb442763c9b04ccc2&scene=21#wechat_redirect"},"createRoot\u505a\u4e86\u4ec0\u4e48"),"\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u6700\u540e\u7559\u4e0b\u7684\u7591\u95ee\xa0",(0,a.kt)("strong",{parentName:"p"},"createContainer")," \u505a\u4e86\u4ec0\u4e48\u5462\uff0c\u5176\u5b9e\u5c31\u662f\u5728\u4e0a\u6587\u4e2d\uff0c\u521b\u5efa\u4e86\u8fd9\u6837\u7684\u4e00\u4e2a",(0,a.kt)("strong",{parentName:"p"},"fiber"),"\u5bf9\u8c61\u8fd4\u56de\u3002"),(0,a.kt)("p",null,"\u597d\u7684\uff01\uff01\uff01\u90a3\u4e48\u6211\u4eec\u7ee7\u7eed\u5411\u4e0b\u770b\u6e90\u7801\u5427\uff0c"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b762874248a4d67a20d83cf7cbb031c~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u901a\u8fc7\u8fd9\u4e2a\xa0",(0,a.kt)("strong",{parentName:"p"},"enableNewReconciler")," \u8fd9\u4e2a\u53c2\u6570\u6765\u5224\u65ad\u6211\u4eec\u91c7\u7528\u65b0\u7684\xa0",(0,a.kt)("strong",{parentName:"p"},"R")," ",(0,a.kt)("strong",{parentName:"p"},"econciler")," \u6765\u6e32\u67d3\u8fd8\u662f\u65e7\u7684\u7248\u672c\uff0c\u76ee\u524d\u4f7f\u7528\u7684\u662fold\u7248\u672c"),(0,a.kt)("p",null,"PS\uff1a\uff08React \u6e90\u7801\u4e2d\uff0c \u540e\u7f00\u5e26old \u7684\u4ee3\u8868\u5f53\u524d\u4f7f\u7528\u7684\uff0c \u5e26new \u7684\u662fReact \u56e2\u961f\u4e3a\u4e86\u5b9e\u9a8c\u4e00\u4e9b\u65b0\u7684\u529f\u80fd\u6240\u4f7f\u7528\u7684\u7248\u672c\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5173\u6ce8old\u91cc\u7684\u529f\u80fd\uff09"),(0,a.kt)("p",null,"OK\uff0c\u5728\u5b66\u4e60\u4e4b\u524d\u6211\u4eec\u6765\u804a\u4e00\u4e0b\u6211\u4eec\u4eca\u5929\u91cd\u70b9\u5173\u6ce8\u7684\u5185\u5bb9\u90fd\u662f\u54ea\u4e9b\u770b\u4e0b\u6587"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/115dc43c2b2e4a3ab8ecddd9c1371845~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05f0e8e584624dc6995f5235efd2cacb~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c068aab7fc014b008dd9eeed64bfef07~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/68c41ca54d4643d893e482e625e45cbf~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u4ee5\u4e0a\u56db\u4e2a\u51fd\u6570\u5c31\u662f\u6211\u4eec\u4eca\u5929\u7684\u5b66\u4e60\u76ee\u6807"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"createContainer")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"creatFiberRoot\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"FiberRootNode")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"updateContainer")),(0,a.kt)("p",null,"\u90a3\u4e48\u5728\u6df1\u5165\u5b66\u4e60\u8fd9\u4e0a\u9762\u56db\u4e2a\u51fd\u6570\u4e4b\u524d\u5462\uff0c\u6211\u89c9\u5f97\u6211\u4eec\u53ef\u4ee5\u5148\u53bb\u770b\u4e00\u4e0b\xa0",(0,a.kt)("strong",{parentName:"p"},"Fiber")," \u7684\u7684\xa0",(0,a.kt)("strong",{parentName:"p"},"type"),"\uff0c\u5148\u77e5\u9053\u4e00\u4e0b\u8fd9\u73a9\u610f\u513f\uff0c\u4ed6\u5230\u5e95\u662f\u4ec0\u4e48**\n**"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cc4bd313643645beb00edb6870e6a592~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u597d\u7684\uff0c\u5177\u4f53\u53c2\u6570\u4f5c\u8005\u90fd\u5df2\u7ecf\u5199\u4e0a\u4e86\u6ce8\u91ca\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u81ea\u5df1\u5728\u6df1\u5165\u7684\u67e5\u770b\u4e00\u4e0b\u6bcf\u4e2a\u53c2\u6570\u4ed6\u5177\u4f53\u90fd\u505a\u4e86\u4ec0\u4e48\uff0c\u8fd9\u91cc\u4e3a\u4e86\u63a7\u5236\u6587\u7ae0\u957f\u5ea6\u5c31\u4e0d\u8fc7\u591a\u4ecb\u7ecd\u4e86\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4e0b\u9762\u5f00\u59cb\u770b\u65b9\u6cd5\u5427")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4e00\u3001createContainer")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebf23c919029454b9a58486643985462~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u5176\u5b9e\u8fd9\u91cc\u5c31\u6ca1\u4ec0\u4e48\u597d\u8bb2\u7684\u4e86\u672c\u8d28\u4e0a\u5c31\u662f\u95ed\u5305\u51fd\u6570\uff0c\u5904\u7406\u521d\u59cb\u5316\u5904\u7406\u4e00\u4e9b\u79c1\u6709\u53c2\u6570\uff0c\u4ece\u8fd9\u91cc\u6211\u4eec\u4e5f\u53ef\u4ee5\u770b\u51fa\uff0cReact\u5728\u5176\u672c\u8eab\u7684\u8bbe\u8ba1\u4e0a\u5176\u5b9e\u5229\u7528\u4e86\u5927\u91cf\u7684\u95ed\u5305\u6982\u5ff5\u3002\u8fd9\u4e2a\u65f6\u5019\u5176\u5b9e\u4e5f\u5c31\u4e0d\u96be\u770b\u51fa\uff0c\u5f88\u591a\u521d\u7ea7\u5f00\u53d1\u8005\u540c\u5b66\u5728\u5f00\u53d1React\u4f5c\u4e3a\u4e86\u5e94\u7528\u7ea7\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\u5076\u5c14\u51fa\u73b0\u5185\u5b58\u6cc4\u6f0f\u7684\u95ee\u9898\u7684\u539f\u56e0\u5728\u54ea\u91cc\u4e86\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4e8c\u3001createFiberRoot")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/92a3c2957c1c48239787acf293b3b22b~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u597d\u7684\uff0c\u770b\u5b8c\u4e0a\u6587\u8fd9\u4e9b\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5176\u5b9e\u672c\u8d28\u4e0a\u7684\u521b\u5efa\u903b\u8f91\u5c31\u5728\u8fd9\u91cc\u4e86\uff0c\u5728\u8fd9\u4e2a\xa0",(0,a.kt)("strong",{parentName:"p"},"createFiberRoot")," \u8fd9\u4e2a\u6267\u884c\u6808\u4e2d\uff0c\u6211\u4eec\u672c\u8d28\u4e0a\u5c31\u505a\u4e86\u4e09\u4ef6\u4e8b\uff0c\u521b\u5efa\xa0",(0,a.kt)("strong",{parentName:"p"},"FiberNode\u3001")," \u72b6\u6001\u7ed1\u5b9a\uff08",(0,a.kt)("strong",{parentName:"p"},"effect"),"\u7684\u5224\u65ad\u7ed1\u5b9a\uff09\u3001\u521d\u59cb\u5316\u961f\u5217\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4e09\u3001FiberRootNode")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1faeb721cd204defafbde59afd125cd6~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u5230\u8fd9\u91cc\u5462\u5176\u5b9efiberRootNode\u7684\u903b\u8f91\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u6765new\u4e00\u4e0b\u521d\u59cb\u5316\u8fd9\u4e2a\u5bf9\u8c61\u5c31\u597d\u4e86\uff0c\u5982\u679c\u4e0d\u7406\u89e3\u7684\u540c\u5b66\u53ef\u4ee5\u628a\u5b83\u60f3\u8c61\u6210\u4e00\u4e2a\u7c7b\u4e5f\u884c\uff0c\u4e0b\u6587\u7684enable\u662f\u57fa\u4e8e\u521d\u59cb\u5316\u53c2\u6570\u5165\u53c2\u8fdb\u884c\u4f18\u5316\u3002\u8fd9\u91cc\u6ca1\u6709\u5c55\u5f00\u8be6\u7ec6\u8bb2\uff0c\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u81ea\u5df1\u770b\u4e00\u770b\u8fd9\u4e2a\u53c2\u6570\u5177\u4f53\u7684\u529f\u7528\uff0c\u662f\u5c5e\u4e8e\u989d\u5916\u7684\u4f18\u5316\u914d\u7f6e\uff0c\u5728\u540c\u7ea7\u76ee\u5f55\u4e0b\u7684ReactFeatureFlags\u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u5177\u4f53\u914d\u7f6e\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u56db\u3001updateContainer")),(0,a.kt)("p",null,"\u524d\u8a00\uff1a\u5176\u5b9e\u8fd9\u6bb5\u4e0d\u5e94\u8be5\u653e\u5728\u8fd9\u91cc\u6765\u8bb2\u7684\uff0c\u56e0\u4e3a\u5176\u5b9e\u672c\u8d28\u8981\u7ed3\u5408\u8c03\u5ea6\u5668",(0,a.kt)("strong",{parentName:"p"},"scheduler"),"\u6765\u804a\u7684\uff0c\u4f46\u662f\u8fd9\u91cc\u5148\u5355\u72ec\u7684\u8bb2\u8bb2\u4ed6\u7684\xa0",(0,a.kt)("strong",{parentName:"p"},"workStream")," \u5427\uff0c"),(0,a.kt)("p",null,"\u9996\u5148\u6765\u804a\u4ed6\u7684\u5165\u6808\u5427"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://mmbiz.qpic.cn/mmbiz_png/1EIrxsPer5wSd1g5rfRhYyO0wPA4DTqUCrpfd2FEVPTqAChfJjK4da0MdvjttbT0bl0UJJQr5ib2Qx4yNicialviag/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u5728\u8fd9\u91cc\xa0",(0,a.kt)("strong",{parentName:"p"},"render")," \u7684\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u66f4\u65b0\uff0c\u4f20\u5165\u4e86\u4e24\u4e2a\u53c2\u6570\u4e00\u4e2a\u662f\u6211\u4eec",(0,a.kt)("strong",{parentName:"p"},"render"),"\u7684",(0,a.kt)("strong",{parentName:"p"},"jsx"),"\u8282\u70b9\u4e00\u4e2a\u662f",(0,a.kt)("strong",{parentName:"p"},"root"),"\u6839\u8282\u70b9"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/876666c998b14b55925d04cc39c1c88b~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a9cae7e398b48b485bc0c8941043559~tplv-k3u1fbpfcp-zoom-1.image",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u4e0a\u6587\u4e24\u4e2a\u53c2\u6570\u4e00\u4e2a\u6839\u8282\u70b9\u7684\u65f6\u673a\u548cchildren\u7684\u8282\u70b9\u65f6\u673a"),(0,a.kt)("p",null,"OK\uff01\uff01\u89e6\u53d1\u7684\u53c2\u6570\u6211\u4eec\u627e\u5230\u4e86\uff0c\u6211\u4eec\u6765\u770b\u6267\u884c\u5427"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://mmbiz.qpic.cn/mmbiz_png/1EIrxsPer5wSd1g5rfRhYyO0wPA4DTqUDMv6BEs6cooXic7Prew1KaJubKXdszNYGNe9O3qEsxLDs2LIIMJUqtA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1",alt:"\u56fe\u7247"})),(0,a.kt)("p",null,"\u770b\u5b8c\u4e0a\u6587\u7684\u6574\u4e2a\xa0",(0,a.kt)("strong",{parentName:"p"},"updateContainer")," \u7684\u6267\u884c\uff0c\u53ef\u80fd\u4f1a\u6709\u540c\u5b66\u4e00\u8138\u61f5\u903c\u4e00\u5934\u96fe\u6c34\uff0c\u4e0d\u77e5\u9053\u5230\u5e95\u5e72\u4e86\u4ec0\u4e48\uff0c\u8fd9\u4e2a\u65f6\u5019\u5176\u5b9e\u6211\u4eec\u629b\u5f00\u90a3\u4e9b\u5404\u79cd\u7684\u56de\u8c03\u6765\u770b\uff0c\u5728\u4e0a\u6587\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u53ea\u8981\u77e5\u9053\uff0c",(0,a.kt)("strong",{parentName:"p"},"update")," \u672c\u8d28\u4e0a\u5c31\u662f\u5c06\u6211\u4eec\u9700\u8981\u66f4\u65b0\u7684\u8282\u70b9\uff0c\u53c2\u6570\u653e\u5165\u5230\xa0",(0,a.kt)("strong",{parentName:"p"},"scheduler")," \u8c03\u5ea6\u5668\u4e2d\uff0c\u7136\u540e\u7531\xa0",(0,a.kt)("strong",{parentName:"p"},"scheduler")," \u6765\u51b3\u5b9a\u66f4\u65b0\u7684\u72b6\u6001\u548c\u65f6\u673a\u5c31\u53ef\u4ee5\u4e86\uff0c\u8fd9\u4e2a\u8282\u70b9\u4e3b\u8981\u4f20\u5165\u7684\u4e00\u4e2a\u53c2\u6570\u662f\xa0",(0,a.kt)("strong",{parentName:"p"},"lane")," \u6765\u51b3\u5b9a\u6267\u884c\u7684\u987a\u5e8f\u673a\u5236\u4e86\u3002"),(0,a.kt)("p",null,"\u90a3\u4e48\u770b\u5b8c\u4e86\u5230\u4e86\u8fd9\u91cc\uff0c\u8fd9\u7bc7\u6587\u7ae0\u7684\u5206\u4eab\u5c31\u7b97\u7ed3\u675f\u4e86\uff0c\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\u6211\u4eec\u7684\u5b9a\u4e49\u5427"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"createContainer"),"\u95ed\u5305\u8c03\u7528\u4e86",(0,a.kt)("strong",{parentName:"p"},"createFiberRoot"),"\uff0c\u7ed9\u4e86\u4e24\u4e2a\u53c2\u6570\uff0c\u5224\u5b9a\u662f\u5426\u670d\u52a1\u7aef\u6e32\u67d3\u548c\u5b50\u6811\u8282\u70b9\u4e3a",(0,a.kt)("strong",{parentName:"p"},"null")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"createFiberRoot"),"\u505a\u4e86\u4e09\u4ef6\u4e8b\uff0c\u521d\u59cb\u5316",(0,a.kt)("strong",{parentName:"p"},"fiberRootNode"),"\uff0c\u7ed1\u5b9a\u526f\u4f5c\u7528\uff0c\u521d\u59cb\u5316\u961f\u5217"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"fiberRootNode"),"\u6784\u9020\u51fd\u6570\uff0c\u521b\u5efa\u8282\u70b9"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"updateContainer"),"\uff0c\u627e\u5230\u8282\u70b9\uff0c\u5224\u65ad\u6267\u884c\u4f18\u5148\u7ea7\uff0c\u544a\u8bc9",(0,a.kt)("strong",{parentName:"p"},"scheduler")),(0,a.kt)("p",null,"\u4ee5\u4e0a\u5c31\u662f\u6211\u4eec\u6587\u7ae0\u7684\u6838\u5fc3\u5185\u5bb9\u4e86\u3002\u5f53\u7136\uff0c\u771f\u5b9e\u7684React\u6267\u884c\u8981\u6bd4\u4f5c\u8005\u6240\u8bb2\u7684\u8981\u590d\u6742\u7684\u5f88\u591a\uff0c\u5305\u62ec\u5f88\u591a\u7684\u4f18\u5316\u8ba1\u7b97\u4ee5\u53ca\u9519\u8bef\u8fb9\u754c\u7684\u6355\u83b7\u5904\u7406\uff0c\u8fd9\u91cc\u4f5c\u8005\u901a\u901a\u6ca1\u6709\u8bb2\u5230\uff0c\u53ea\u662f\u7b80\u5355\u7684\u804a\u6574\u4e2a\u7684\u6267\u884c\u673a\u5236\u3002\u5982\u679c\u6709\u5174\u8da3\u7684\u540c\u5b66\u8fd8\u662f\u53ef\u4ee5\u81ea\u5df1\u53bb\u5b66\u4e60\u6e90\u7801\u3002\u4f5c\u8005\u7684\u5206\u6790\u4e5f\u53ea\u80fd\u4ee3\u8868\u4f5c\u8005\u81ea\u5df1\u7684\u8ba4\u77e5\uff0c\u4e5f\u672a\u5fc5\u5c31\u662f\u4e00\u5b9a\u6b63\u786e\u7684\u3002\u5e0c\u671b\u540c\u5b66\u80fd\u6709\u81ea\u5df1\u7684\u8ba4\u77e5\u3002\u8fd9\u91cc\u5462\u5176\u5b9e\u5e94\u8be5\u8fd8\u5e94\u8be5\u8bb2\u4e00\u4e0b\xa0",(0,a.kt)("strong",{parentName:"p"},"FiberNode")," \u4f46\u662f\u8fd9\u91cc\u5c31\u7701\u7565\u4e86\uff0c\u548c\u672c\u7ae0\u662f\u6709\u5f88\u591a\u8026\u5408\u7684\uff0c\u53ef\u4ee5\u81ea\u5df1\u53bb\u5b66\u4e60\u770b\u4e00\u770b"),(0,a.kt)("p",null,"OK\uff0c\u6587\u7ae0\u7ed3\u675f\uff0c\u4e0b\u4e00\u671f\u6211\u4eec\u5f00\u59cb\u804a\u4e00\u804a\xa0",(0,a.kt)("strong",{parentName:"p"},"scheduler")," \u8fd9\u4e2a\xa0",(0,a.kt)("strong",{parentName:"p"},"React")," \u7684\u6838\u5fc3\u4e2d\u7684\u6838\u5fc3\u4e86\uff01\uff01\uff01"),(0,a.kt)("p",null,"\u53c2\u8003\u6587\u7ae0\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"React\u54f2\u5b66 https://react.docschina.org/docs/thinking-in-react.html\nReact\u8bbe\u8ba1\u7406\u5ff5 https://github.com/campcc/blog/issues/44\nReact\u67b6\u6784 https://github.com/campcc/blog/issues/45\n")),(0,a.kt)("p",null,"\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u5173\u6ce8\u4e00\u4e0b\u4f5c\u8005\u54c8\uff5e\uff5e"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8bbde1893e3f40f1ba568fd34203f0a0~tplv-k3u1fbpfcp-zoom-1.image",alt:"qrcode_for_gh_94721abee845_258 (2).jpg"})))}u.isMDXComponent=!0}}]);